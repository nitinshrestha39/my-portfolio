<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Project Detail - Personal Portfolio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
  <style>
    .project-detail-section {
      padding: 120px 0;
    }
    .project-detail-header {
      color: #fff;
      text-shadow: 0 3px 10px rgba(0,0,0,0.4);
      margin-bottom: 40px;
    }
    .project-detail-header h1 {
      font-size: 2.5rem;
      margin-bottom: 12px;
    }
    .project-detail-header p {
      font-size: 1.1rem;
      color: rgba(255,255,255,0.9);
    }
    .project-content {
      background: rgba(255,255,255,0.95);
      border-radius: 12px;
      padding: 40px;
      margin-bottom: 40px;
    }
    .project-image {
      width: 100%;
      height: 400px;
      object-fit: cover;
      border-radius: 12px;
      margin-bottom: 30px;
    }
    .project-content h2 {
      color: #0f172a;
      font-size: 1.8rem;
      margin-bottom: 16px;
    }
    .project-content p {
      color: #0f172a;
      font-size: 1rem;
      line-height: 1.8;
      margin-bottom: 20px;
    }
    .project-details-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin: 30px 0;
    }
    .detail-box {
      background: rgba(123, 211, 137, 0.1);
      padding: 20px;
      border-radius: 8px;
      border-left: 4px solid #7bd389;
    }
    .detail-box h3 {
      color: #7bd389;
      margin-bottom: 12px;
      font-size: 1.1rem;
    }
    .detail-box p {
      color: #0f172a;
      margin: 0;
      font-size: 0.95rem;
    }
    .tech-stack {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }
    .tech-badge {
      background: #7bd389;
      color: #013220;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
    }
    .project-links {
      display: flex;
      gap: 16px;
      margin-top: 30px;
    }
    .btn {
      display: inline-block;
      padding: 12px 24px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s;
      border: none;
      cursor: pointer;
      font-size: 1rem;
    }
    .btn-primary {
      background: #7bd389;
      color: #013220;
    }
    .btn-primary:hover {
      background: #5fb36f;
      transform: translateY(-2px);
    }
    .btn-secondary {
      background: transparent;
      color: #7bd389;
      border: 2px solid #7bd389;
    }
    .btn-secondary:hover {
      background: #7bd389;
      color: #013220;
    }
    .back-link {
      color: #7bd389;
      text-decoration: none;
      font-weight: 600;
      margin-bottom: 20px;
      display: inline-block;
    }
    .back-link:hover {
      text-decoration: underline;
    }
    .features-list {
      color: #0f172a;
      line-height: 2;
    }
    .features-list li {
      margin-bottom: 8px;
    }
    @media (max-width: 900px) {
      .project-details-grid {
        grid-template-columns: 1fr;
      }
      .project-image {
        height: 300px;
      }
      .project-content {
        padding: 24px;
      }
    }
  </style>
</head>
<body>
  <div class="overlay"></div>
  <div class="clouds" aria-hidden="true">
    <div class="cloud c1"></div>
    <div class="cloud c2"></div>
    <div class="cloud c3"></div>
  </div>

  <header class="navbar">
    <div class="nav-inner container">
      <a class="brand" href="index.html">My Portfolio</a>
      <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="projects.html">My Projects</a>
        <a href="photos.html">My Photos</a>
      </nav>
      <button class="nav-toggle" aria-label="Toggle navigation">☰</button>
    </div>
  </header>

  <main class="content">
    <section class="project-detail-section container">
      <a href="projects.html" class="back-link">← Back to Projects</a>

      <div class="project-detail-header">
        <h1 id="projectTitle">Loading...</h1>
        <p id="projectSubtitle">Loading project details...</p>
      </div>

      <div class="project-content">
        <img id="projectImage" src="" alt="" class="project-image">

        <h2>Project Overview</h2>
        <p id="projectFullDescription">Loading description...</p>

        <div class="project-details-grid">
          <div class="detail-box">
            <h3>Technologies Used</h3>
            <div class="tech-stack" id="techStack"></div>
          </div>

          <div class="detail-box">
            <h3>Key Features (Quick View)</h3>
            <p id="quickFeatures">Loading features...</p>
          </div>
        </div>

        <h2>Key Features</h2>
        <ul class="features-list" id="fullFeaturesList">
          <li>Loading features...</li>
        </ul>

        <h2>Project Details</h2>
        <p><strong>Duration:</strong> <span id="projectDuration">Loading...</span></p>
        <p><strong>Client:</strong> <span id="projectClient">Loading...</span></p>
        <p><strong>Status:</strong> <span id="projectStatus">Loading...</span></p>

        <div class="project-links">
          <a id="demoLink" href="#" class="btn btn-primary">View Live Demo</a>
          <a id="githubLink" href="#" class="btn btn-secondary">View Code on GitHub</a>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-content">© 2025 My Portfolio. All rights reserved.</div>
  </footer>

  <script>
    // Mobile nav toggle
    const navToggle = document.querySelector('.nav-toggle');
    if(navToggle){
      navToggle.addEventListener('click', () => {
        const links = document.querySelector('.nav-links');
        if(links.style.display === 'block') links.style.display = '';
        else links.style.display = 'block';
      });
    }

    // Load project data from URL parameter
    async function loadProjectDetail(){
      try {
        // Get project ID from URL parameter
        const params = new URLSearchParams(window.location.search);
        const projectId = params.get('id');

        if(!projectId){
          document.querySelector('.project-content').innerHTML = '<p style="color:#0f172a;">Project not found. Please go back to <a href="projects.html">projects page</a>.</p>';
          return;
        }

        // Fetch projects data
        const response = await fetch('data/projects.json');
        const data = await response.json();
        const project = data.projects.find(p => p.id == projectId);

        if(!project){
          document.querySelector('.project-content').innerHTML = '<p style="color:#0f172a;">Project not found. Please go back to <a href="projects.html">projects page</a>.</p>';
          return;
        }

        // Populate page with project data
        document.title = project.title + ' - Project Detail';
        document.getElementById('projectTitle').textContent = project.title;
        document.getElementById('projectSubtitle').textContent = project.subtitle;
        document.getElementById('projectImage').src = project.image;
        document.getElementById('projectImage').alt = project.title;
        document.getElementById('projectFullDescription').textContent = project.fullDescription;
        document.getElementById('projectDuration').textContent = project.duration;
        document.getElementById('projectClient').textContent = project.client;
        document.getElementById('projectStatus').textContent = project.status;
        document.getElementById('demoLink').href = project.demoLink;
        document.getElementById('githubLink').href = project.githubLink;

        // Populate tech stack
        const techStack = document.getElementById('techStack');
        techStack.innerHTML = '';
        project.technologies.forEach(tech => {
          const badge = document.createElement('span');
          badge.className = 'tech-badge';
          badge.textContent = tech;
          techStack.appendChild(badge);
        });

        // Populate quick features
        const quickFeaturesText = project.features.slice(0, 4).map(f => {
          const feature = f.split(' - ')[0];
          return '✓ ' + feature;
        }).join('<br>');
        document.getElementById('quickFeatures').innerHTML = quickFeaturesText;

        // Populate full features list
        const featuresList = document.getElementById('fullFeaturesList');
        featuresList.innerHTML = '';
        project.features.forEach(feature => {
          const li = document.createElement('li');
          li.innerHTML = feature;
          featuresList.appendChild(li);
        });

      } catch(error){
        console.error('Error loading project:', error);
        document.querySelector('.project-content').innerHTML = '<p style="color:#0f172a;">Error loading project. Please try again.</p>';
      }
    }

    // Load project when page loads
    loadProjectDetail();
  </script>
</body>
</html>
